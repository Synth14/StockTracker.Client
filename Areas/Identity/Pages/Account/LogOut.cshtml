@page
@using Microsoft.AspNetCore.Authentication;
@using Microsoft.AspNetCore.Identity
@* @attribute [IgnoreAntiforgeryToken] *@
@* @inject SignInManager<IdentityUser> SignInManager *@
@functions {
    // public async Task<IActionResult> OnPost()
    // {
    //     if (SignInManager.IsSignedIn(User))
    //     {
    //         await SignInManager.SignOutAsync();
    //     }

    //     return Redirect("~/");
    // }

    public async Task<IActionResult> OnGet(string? returnUrl)
    {
        await HttpContext.SignOutAsync();

        return Redirect(string.IsNullOrEmpty(returnUrl) ? "~/" : returnUrl);
    }
}
